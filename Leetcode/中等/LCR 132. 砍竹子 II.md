# Leetcode ：LCR 132. 砍竹子 II

## 一、题目链接
# [LCR 132. 砍竹子 II](https://leetcode.cn/problems/jian-sheng-zi-ii-lcof/?envType=problem-list-v2&envId=GzFbGrmM)

## 二、题目描述
寻找能分成的段，总乘积最大

## 三、解题思路与代码实现
### 1. 核心思路
- 数学方法：将竹子尽量分成长度为3的段，分情况处理即可，然后使用快速幂方法计算乘积

### 2. 代码实现
#### 数学方法：
```C++
class Solution {
private:
    long long fastPow(long long base, long long power) {
        long long result = 1;
        while( power > 0 ) {
            if( power % 2 == 1) {
                result = ( result * base ) % 1000000007;
            }
            base = ( base * base ) % 1000000007;
            power = power >> 1;
        }
        return result;
    }
public:
    int cuttingBamboo(int bamboo_len) {
        if( bamboo_len == 2 ) return 1;
        if( bamboo_len == 3 ) return 2;
        if( bamboo_len == 4 ) return 4;
        long long  power, remainder;
        if( bamboo_len % 3 == 0 ) {
            power = bamboo_len / 3;
            remainder = 1;
        }
        else if( bamboo_len % 3 == 1) {
            power = ( bamboo_len - 4 ) / 3;
            remainder = 4;
        }
        else  {
            power = bamboo_len / 3;
            remainder = 2;
        }
        return (fastPow(3, power) * remainder) % 1000000007;
    } 
};
```
- 时间复杂度：O(log n)
- 空间复杂度：O(1)