# Leetcode ：32.最长有效括号

## 一、题目链接
# [LeetCode 332.最长有效括号](https://leetcode.cn/problems/coin-change/description/?envType=study-plan-v2&envId=top-100-liked)

## 二、题目描述
找到字符串中最长的有效连续括号子串

## 三、解题思路与代码实现
### 1. 核心思路
- 动态规划：
    - 状态表示：包含当前下标及之前的有效连续括号子串的最大长度
    - 状态初始化：每个状态都初始化为0
    - 状态转换：
        - 当为左括号'('时,将该状态置为0
        - 当为右括号')'时,由上一个有效子字符串和上上一个有效子字符串再加2转换而来

### 2. 代码实现
#### 动态规划：
```C++
class Solution {
public:
    int longestValidParentheses(string s) {
        int len = s.size(), maxans = 0;
        if( len < 2 ) return 0;
        vector<int> dp(s.size() + 1, 0);
        for( int i = 1; i < s.size(); ++i) {
            if( s[i] == '(' )
                dp[i] = 0;
            else if( i-dp[i-1] > 0 && s[i-dp[i-1] - 1] == '('){
                dp[i] = dp[i-1] + ((i - dp[i-1]) >= 2 ? dp[i - dp[i-1] - 2] : 0) + 2;
            }
            maxans = max(maxans, dp[i]);
        }
        return maxans;
    }
};
```
- 时间复杂度：O(n)
- 空间复杂度：O(n)

